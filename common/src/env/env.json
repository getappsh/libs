  {
    "$schema": "./env.schema.json",
    "title": "Get-App, Environment documentation",
    "id": "get-app",
    "description": "Environment variables documentation for get-app microservice.",
    "version": "1.0.0",
    "servicesMapping": {
      "api": {
        "requiredScopes": [
          {
            "id": "microservice"
          },
          {
            "id": "auth"
          }
        ],
        "optionalScopes": [
          {
            "id": "general"
          },
          {
            "id": "api"
          },
          {
            "id": "apm",
            "note": "Should be set in order to enable APM features"
          },
          {
            "id": "proxy",
            "note": "Required if the microservice is in a proxy mode"
          }
        ]
      },
      "discovery": {
        "requiredScopes": [
          {
            "id": "microservice"
          },
          {
            "id": "postgres"
          },
          {
            "id": "smtp",
            "note": "Required to enable the microservice sends emails"
          }
        ],
        "optionalScopes": [
          {
            "id": "general"
          },
          {
            "id": "apm",
            "note": "Should be set in order to enable APM features"
          }
        ]
      },
      "delivery": {
        "requiredScopes": [
          {
            "id": "microservice"
          },
          {
            "id": "postgres"
          },
          {
            "id": "S3"
          }
        ],
        "optionalScopes": [
          {
            "id": "general"
          },
          {
            "id": "apm",
            "note": "Should be set in order to enable APM features"
          },
          {
            "id": "cache",
            "note": "Required if the microservice is in a proxy mode or uses the delivery service as a cache layer"
          },
          {
            "id": "proxy",
            "note": "Required if the microservice is in a proxy mode"
          }
        ]
      },
      "get-map": {
        "requiredScopes": [
          {
            "id": "microservice"
          },
          {
            "id": "postgres"
          },
          {
            "id": "getMap"
          }
        ],
        "optionalScopes": [
          {
            "id": "general"
          },
          {
            "id": "apm",
            "note": "Should be set in order to enable APM features"
          }
        ]
      },
      "libot-emu": {
        "requiredScopes": [
          {
            "id": "libotEmu"
          }
        ],
        "optionalScopes": []
      },
      "offering": {
        "requiredScopes": [
          {
            "id": "microservice"
          },
          {
            "id": "postgres"
          },
          {
            "id": "apm"
          }
        ],
        "optionalScopes": [
          {
            "id": "general"
          }
        ]
      },
      "deploy": {
        "requiredScopes": [
          {
            "id": "microservice"
          },
          {
            "id": "postgres"
          }
        ],
        "optionalScopes": [
          {
            "id": "general"
          },
          {
            "id": "apm",
            "note": "Should be set in order to enable APM features"
          }
        ]
      },
      "project-management": {
        "requiredScopes": [
          {
            "id": "microservice"
          },
          {
            "id": "postgres"
          },
          {
            "id": "jwt"
          }
        ],
        "optionalScopes": [
          {
            "id": "general"
          },
          {
            "id": "apm",
            "note": "Should be set in order to enable APM features"
          }
        ]
      },
      "upload": {
        "requiredScopes": [
          {
            "id": "microservice"
          },
          {
            "id": "postgres"
          },
          {
            "id": "S3"
          }
        ],
        "optionalScopes": [
          {
            "id": "general"
          },
          {
            "id": "apm",
            "note": "Should be set in order to enable APM features"
          }
        ]
      }
    },
    "scopes": [
      {
        "title": "General Configuration",
        "id": "general",
        "description": "General environment variables used for all microservices",
        "variables": [
          {
            "name": "RPC_PAYLOAD_VERSION",
            "description": "Version of the payload to send, default is 1.",
            "required": false,
            "type": "enum",
            "enum": [
              "1",
              "2"
            ],
            "warning": [
              "If implemented, it must be consistent across all microservices."
            ],
            "deprecated": true,
            "deprecationNote": "Type 1 of RPC_PAYLOAD_VERSION is deprecated and will be removed in the future, use only type 2.",
            "default": "1"
          },
          {
            "name": "REGION",
            "description": "Defines the region used for Kafka topics and database names. ",
            "warning": [
              "If implemented, it must be consistent across all microservices."
            ],
            "required": false,
            "type": "string"
          },
          {
            "name": "SERVER_NAME",
            "description": "Name of the server instance.",
            "warning": [
              "Should be unique within the deployment environment."
            ],
            "required": false,
            "type": "string"
          },
          {
            "name": "DEPLOY_ENV",
            "description": "Deployment environment identifier. Typical values: CTS or TNG.",
            "required": false,
            "type": "enum",
            "enum": [
              "CTS",
              "TNG"
            ],
            "hidden": true
          },
          {
            "name": "LOGGER_FORMAT",
            "description": "Format of the logs output by the microservice. Can be JSON or STRING.",
            "required": false,
            "type": "enum",
            "enum": [
              "JSON",
              "STRING"
            ],
            "default": "STRING",
            "tag": "Logger"
          },
          {
            "name": "LOG_LEVEL",
            "description": "Defines the logging level. For JSON logger: [\"fatal\", \"error\", \"warn\", \"info\", \"debug\", \"trace\"]. For STRING logger: [\"log\", \"error\", \"warn\", \"debug\", \"verbose\"].",
            "required": false,
            "type": "enum",
            "enum": [
              "fatal",
              "error",
              "warn",
              "info",
              "debug",
              "trace",
              "log",
              "verbose"
            ],
            "default": " \"trace\" or \"verbose\"",
            "tag": "Logger"
          }
        ]
      },
      {
        "title": "Microservice Client",
        "id": "microservice",
        "description": "Environment variables to setting the communication between the microservices.",
        "variables": [
          {
            "name": "MICRO_SERVICE_TYPE",
            "tag": "General config",
            "description": "Type of microservice client (e.g., KAFKA or SOCKET).",
            "required": true,
            "type": "enum",
            "enum": [
              "KAFKA",
              "SOCKET"
            ]
          },
          {
            "name": "MICROSERVICE_RESPONSE_WAIT_TIME",
            "tag": "General config",
            "description": "Time in milliseconds to wait for a microservice response.",
            "required": false,
            "type": "number",
            "default": 10000
          },
          {
            "name": "KAFKA_BROKER_URL",
            "tag": "Config using KAFKA type",
            "description": "URL of the Kafka broker.",
            "required": {
              "if": {
                "MICRO_SERVICE_TYPE": "KAFKA"
              }
            },
            "type": "string"
          },
          {
            "name": "KAFKAJS_NO_PARTITIONER_WARNING",
            "tag": "Config using KAFKA type",
            "description": "Disable KafkaJS partitioned warning. Set to 1 to disable the warning.",
            "required": false,
            "type": "number"
          },
          {
            "name": "CONSUME_CONCURRENT",
            "tag": "Config using KAFKA type",
            "description": "Number of Kafka partitions consumed concurrently.",
            "required": false,
            "type": "number",
            "default": 100
          },
          {
            "name": "KAFKA_SSL",
            "tag": "Config using KAFKA type with SSL",
            "description": "Flag if connection to Kafka is by SSL.",
            "required": false,
            "type": "boolean",
            "default": false,
            "warning": [
              "It will be implemented in the future, for now needs to define the 'DEPLOY_ENV' variable"
            ]
          },
          {
            "name": "KAFKA_PEM_PATH",
            "tag": "Config using KAFKA type with SSL",
            "description": "File system path to the CA certificate PEM file for SSL connection to Kafka.",
            "required": {
              "if": {
                "MICRO_SERVICE_TYPE": "KAFKA",
                "KAFKA_SSL": "true"
              }
            },
            "type": "string",
            "example": "/path/to/ca.pem"
          },
          {
            "name": "KAFKA_CERT_PATH",
            "tag": "Config using KAFKA type with SSL",
            "description": "File system path to the client certificate PEM file for SSL connection to Kafka.",
            "required": {
              "if": {
                "MICRO_SERVICE_TYPE": "KAFKA",
                "KAFKA_SSL": "true"
              }
            },
            "type": "string",
            "example": "/path/to/cert.pem"
          },
          {
            "name": "KAFKA_KEY_PATH",
            "tag": "Config using KAFKA type with SSL",
            "description": "File system path to the client private key PEM file for SSL connection to Kafka.",
            "required": {
              "if": {
                "MICRO_SERVICE_TYPE": "KAFKA",
                "KAFKA_SSL": "true"
              }
            },
            "type": "string",
            "example": "/path/to/key.pem"
          },
          {
            "name": "DELIVERY_PORT",
            "tag": "Port config using SOCKET type",
            "description": "Port number for DELIVERY microservice.",
            "required": false,
            "type": "number",
            "default": 3001
          },
          {
            "name": "DEPLOY_PORT",
            "tag": "Port config using SOCKET type",
            "description": "Port number for DEPLOY microservice.",
            "required": false,
            "type": "number",
            "default": 3002
          },
          {
            "name": "DISCOVERY_PORT",
            "tag": "Port config using SOCKET type",
            "description": "Port number for DISCOVERY microservice.",
            "required": false,
            "type": "number",
            "default": 3003
          },
          {
            "name": "OFFERING_PORT",
            "tag": "Port config using SOCKET type",
            "description": "Port number for OFFERING microservice.",
            "required": false,
            "type": "number",
            "default": 3004
          },
          {
            "name": "PROJECT_PORT",
            "tag": "Port config using SOCKET type",
            "description": "Port number for PROJECT microservice.",
            "required": false,
            "type": "number",
            "default": 3005
          },
          {
            "name": "UPLOAD_PORT",
            "tag": "Port config using SOCKET type",
            "description": "Port number for UPLOAD microservice.",
            "required": false,
            "type": "number",
            "default": 3006
          },
          {
            "name": "GETMAP_PORT",
            "tag": "Port config using SOCKET type",
            "description": "Port number for GETMAP microservice.",
            "required": false,
            "type": "number",
            "default": 3007
          },
          {
            "name": "DELIVERY_HOST",
            "tag": "Host config using SOCKET type",
            "description": "Host address for DELIVERY microservice.",
            "required": false,
            "type": "string",
            "default": "localhost"
          },
          {
            "name": "DEPLOY_HOST",
            "tag": "Host config using SOCKET type",
            "description": "Host address for DEPLOY microservice.",
            "required": false,
            "type": "string",
            "default": "localhost"
          },
          {
            "name": "DISCOVERY_HOST",
            "tag": "Host config using SOCKET type",
            "description": "Host address for DISCOVERY microservice.",
            "required": false,
            "type": "string",
            "default": "localhost"
          },
          {
            "name": "OFFERING_HOST",
            "tag": "Host config using SOCKET type",
            "description": "Host address for OFFERING microservice.",
            "required": false,
            "type": "string",
            "default": "localhost"
          },
          {
            "name": "PROJECT_HOST",
            "tag": "Host config using SOCKET type",
            "description": "Host address for PROJECT microservice.",
            "required": false,
            "type": "string",
            "default": "localhost"
          },
          {
            "name": "UPLOAD_HOST",
            "tag": "Host config using SOCKET type",
            "description": "Host address for UPLOAD microservice.",
            "required": false,
            "type": "string",
            "default": "localhost"
          },
          {
            "name": "GETMAP_HOST",
            "tag": "Host config using SOCKET type",
            "description": "Host address for GETMAP microservice.",
            "required": false,
            "type": "string",
            "default": "localhost"
          }
        ]
      },
      {
        "title": "PostgreSQL Database Configuration",
        "id": "postgres",
        "description": "Environment variables for configuring PostgreSQL connection and migrations",
        "tags": [
          {
            "name": "Auth config",
            "description": "Variables to configure according the authentication type: either username & password or client certificates."
          }
        ],
        "variables": [
          {
            "name": "POSTGRES_HOST",
            "tag": "Basic config",
            "description": "Hostname or IP address of the PostgreSQL server",
            "required": true,
            "type": "string"
          },
          {
            "name": "POSTGRES_PORT",
            "tag": "Basic config",
            "description": "Port number on which PostgreSQL is listening",
            "required": true,
            "type": "number"
          },
          {
            "name": "POSTGRES_DB",
            "tag": "Basic config",
            "description": "Database name to connect to",
            "required": true,
            "type": "string"
          },
          {
            "name": "POSTGRES_USER",
            "tag": "Basic config",
            "description": "Username for PostgreSQL authentication",
            "required": true,
            "type": "string"
          },
          {
            "name": "POSTGRES_PASSWORD",
            "tag": "Auth config",
            "description": "Password for PostgreSQL authentication",
            "required": {
              "if": {
                "POSTGRES_SSL": "false"
              }
            },
            "type": "string"
          },
          {
            "name": "POSTGRES_SSL",
            "tag": "Auth config",
            "description": "Flag if connection to PostgreSQL is by SSL.",
            "required": false,
            "type": "boolean",
            "default": false,
            "warning": [
              "It will be implemented in the future, for now needs to define the 'DEPLOY_ENV' variable"
            ]
          },
          {
            "name": "DB_PEM_PATH",
            "tag": "Auth config",
            "description": "File system path to the CA certificate PEM file for SSL connection to PostgreSQL.",
            "required": {
              "if": {
                "POSTGRES_SSL": "true"
              }
            },
            "type": "string",
            "example": "/path/to/ca.pem"
          },
          {
            "name": "DB_CERT_PATH",
            "tag": "Auth config",
            "description": "File system path to the client certificate PEM file for SSL connection to PostgreSQL.",
            "required": {
              "if": {
                "POSTGRES_SSL": "true"
              }
            },
            "type": "string",
            "example": "/path/to/cert.pem"
          },
          {
            "name": "DB_KEY_PATH",
            "tag": "Auth config",
            "description": "File system path to the private key PEM file for SSL connection to PostgreSQL.",
            "required": {
              "if": {
                "POSTGRES_SSL": "true"
              }
            },
            "type": "string",
            "example": "/path/to/key.pem"
          },
          {
            "name": "MIGRATION_RUN",
            "description": "Flag to determine if database migrations should be run",
            "required": false,
            "type": "boolean",
            "default": true
          }
        ]
      },
      {
        "title": "Api microservice",
        "id": "api",
        "description": "Environment variables for api microservice.",
        "variables": [
          {
            "name": "SERVER_PORT",
            "tag": "General config",
            "description": "The port on which the API server will run",
            "type": "number",
            "default": 3000,
            "required": false
          },
          {
            "name": "HTTP_PROTOCOL",
            "tag": "TLS config",
            "description": "Defines if the server run in secure mode with http protocol (true for secure), used for communication with out a wrapper like nginx, kube ingress, etc.",
            "required": false,
            "type": "boolean",
            "default": false
          },
          {
            "name": "CA_CERT_PATH",
            "tag": "TLS config",
            "description": "Path to the CA certificate file used to authenticate clients.",
            "required": {
              "if": {
                "HTTP_PROTOCOL": "true"
              }
            },
            "type": "string",
            "example": "./certs/ca.crt"
          },
          {
            "name": "SERVER_CERT_PATH",
            "tag": "TLS config",
            "description": "Path to the certificate file for HTTPS server.",
            "required": {
              "if": {
                "HTTP_PROTOCOL": "true"
              }
            },
            "type": "string",
            "example": "./certs/server.crt"
          },
          {
            "name": "SERVER_KEY_PATH",
            "tag": "TLS config",
            "description": "Path to the private key file for HTTPS server.",
            "required": {
              "if": {
                "HTTP_PROTOCOL": "true"
              }
            },
            "type": "string",
            "example": "./certs/server.key"
          }
        ]
      },
      {
        "title": "Authentication service",
        "id": "auth",
        "description": "Authentication environment variables",
        "variables": [
          {
            "name": "AUTH_SERVER_URL",
            "description": "URL of the Keycloak authentication server",
            "required": true,
            "type": "string",
            "format": "uri",
            "tag": "SSO Auth"
          },
          {
            "name": "REALM",
            "description": "Realm used in Keycloak",
            "required": true,
            "type": "string",
            "tag": "SSO Auth"
          },
          {
            "name": "CLIENT_ID",
            "description": "Client ID registered in Keycloak",
            "required": true,
            "type": "string",
            "tag": "SSO Auth"
          },
          {
            "name": "SECRET_KEY",
            "description": "Secret key for Keycloak client",
            "required": true,
            "type": "string",
            "tag": "SSO Auth"
          },
          {
            "name": "COOKIE_KEY",
            "description": "Key used to sign and encrypt cookies",
            "required": true,
            "type": "string",
            "tag": "SSO Auth"
          },
          {
            "name": "DEVICE_AUTH",
            "description": "A secret key to check against the value in the Device-Auth header",
            "required": false,
            "type": "string",
            "tag": "Secret Auth"
          },
          {
            "name": "DEVICE_SECRET",
            "description": "A secret key to check against the value in the Device-Auth header",
            "required": false,
            "type": "string",
            "tag": "Secret Auth",
            "deprecated": true,
            "deprecationNote": "Use DEVICE_AUTH instead"
          }
        ]
      },
      {
        "title": "Proxy Mode",
        "id": "proxy",
        "description": "Environment variables that configure the application to operate in proxy mode.",
        "variables": [
          {
            "name": "IS_PROXY",
            "tag": "General config",
            "description": "Flag to determine if the application runs as a proxy",
            "type": "boolean",
            "required": false
          },
          {
            "name": "GETAPP_URL",
            "tag": "General config",
            "description": "Defines the URL of the main API server (not the proxy)",
            "type": "string",
            "required": {
              "if": {
                "IS_PROXY": "true"
              }
            },
            "format": "uri",
            "notes": [
              "Needs to be set only in 'delivery' microservice."
            ]
          },
          {
            "name": "ANALYTICS_SERVER_URL",
            "tag": "General config",
            "description": "Defines the URL of the analytics server",
            "type": "string",
            "required": {
              "if": {
                "IS_PROXY": "true"
              }
            },
            "format": "uri"
          },
          {
            "name": "GETAPP_USERNAME",
            "tag": "API Auth",
            "description": "Username used to authenticate with the main API server",
            "type": "string",
            "required": {
              "if": {
                "IS_PROXY": "true",
                "DEVICE_SECRET": "",
                "DIST_HTTP_PROTOCOL": "false"
              }
            }
          },
          {
            "name": "GETAPP_PASSWORD",
            "tag": "API Auth",
            "description": "Password used to authenticate with the main API server",
            "type": "string",
            "required": {
              "if": {
                "IS_PROXY": "true",
                "DEVICE_SECRET": "",
                "DIST_HTTP_PROTOCOL": "false"
              }
            }
          },
          {
            "name": "DEVICE_SECRET",
            "tag": "API Auth",
            "description": "A secret key that will be added to each request in the Device-Auth header",
            "type": "string",
            "required": {
              "if": {
                "IS_PROXY": "true",
                "GETAPP_USERNAME": "",
                "GETAPP_PASSWORD": ""
              }
            },
            "notes": [
              "It can be a string of key separated by commas, e.g., 'key1,key2,key3'."
            ],
            "example": "key1,key2,key3"
          },
          {
            "name": "PROXY_SECURE_TLS",
            "tag": "TLS Verification",
            "description": "Determines whether the proxy validates the main server's TLS certificate",
            "type": "boolean",
            "required": false,
            "default": true,
            "notes": [
              "Set to false to skip certificate validation (use with caution)."
            ]
          },
          {
            "name": "GETAPP_URL",
            "tag": "TLS 'with out' client certificates",
            "description": "The URL of the main API server",
            "required": {
              "if": {
                "DIST_HTTP_PROTOCOL": "false"
              }
            },
            "type": "string",
            "format": "uri",
            "notes": [
              "Needs to be set only in 'api' microservice."
            ]
          },
          {
            "name": "NODE_EXTRA_CA_CERTS",
            "tag": "TLS 'with out' client certificates",
            "description": "Path to load additional CA certificates to the service",
            "required": {
              "if": {
                "DIST_HTTP_PROTOCOL": "false",
                "GETAPP_URL": "start with http<span style=\"font-weight:900; text-decoration:underline\">s</span>"
              }
            },
            "type": "string"
          },
          {
            "name": "DIST_HTTP_PROTOCOL",
            "tag": "TLS with client certificates",
            "description": "Defines if the destination service runs in secure mode with http protocol (true for secure), used for communication the main API server with client certificates",
            "required": false,
            "type": "boolean",
            "default": false
          },
          {
            "name": "CA_CERT_PATH",
            "tag": "TLS with client certificates",
            "description": "Filesystem path to the CA certificate used to validate server",
            "required": {
              "if": {
                "DIST_HTTP_PROTOCOL": "true"
              }
            },
            "type": "string",
            "example": "/etc/ssl/certs/ca.crt"
          },
          {
            "name": "CLIENT_CERT_PATH",
            "tag": "TLS with client certificates",
            "description": "Filesystem path to the client TLS certificate",
            "required": {
              "if": {
                "DIST_HTTP_PROTOCOL": "true"
              }
            },
            "type": "string",
            "example": "/etc/ssl/certs/client.crt"
          },
          {
            "name": "CLIENT_KEY_PATH",
            "tag": "TLS with client certificates",
            "description": "Filesystem path to the client TLS key file used in mTLS",
            "required": {
              "if": {
                "DIST_HTTP_PROTOCOL": "true"
              }
            },
            "type": "string",
            "example": "/etc/ssl/private/client.key"
          },
          {
            "name": "GETAPP_SSL_URL",
            "tag": "TLS with client certificates",
            "description": "Target hostname the main API server to establish a secure connection with client certificates",
            "required": {
              "if": {
                "DIST_HTTP_PROTOCOL": "true"
              }
            },
            "type": "string",
            "notes": [
              "The URL of the destination server should be a hostname only, without protocol. Example: 'google.com', not 'https://google.com'.",
              "Needs to be set only in 'api' microservice."
            ],
            "example": "google.com",
            "format": "hostname"
          },
          {
            "name": "GETAPP_SSL_PORT",
            "tag": "TLS with client certificates",
            "description": "Port of the main API server to establish a secure connection with client certificates",
            "required": {
              "if": {
                "DIST_HTTP_PROTOCOL": "true"
              }
            },
            "type": "number",
            "notes": [
              "Needs to be set only in 'api' microservice."
            ]
          }
        ]
      },
      {
        "title": "Cache Service",
        "id": "cache",
        "description": "Configuration for using the delivery service as a cache layer",
        "variables": [
          {
            "name": "USE_CACHE",
            "tag": "Cache Configuration",
            "description": "Flag to determine whether to use the delivery service as a cache layer",
            "type": "boolean",
            "required": false,
            "notes": [
              "Requires AWS environment variables to be configured when enabled",
              "If var IS_PROXY of proxy service is set to true, cache service will be in use even if this variable is set to false"
            ]
          },
          {
            "name": "CACHE_CLEAR_TIME_EXPRESSION",
            "tag": "Cache Configuration",
            "description": "Specifies the cron schedule for clearing the cache",
            "type": "string",
            "required": false,
            "default": "0 0 * * *",
            "format": "cron"
          },
          {
            "name": "CACHE_EXPIRATION_HOURS",
            "tag": "Cache Configuration",
            "description": "Sets the duration (in hours) for how long cached items remain valid before expiration",
            "type": "number",
            "required": false,
            "default": "7 days"
          },
          {
            "name": "CACHE_SYNC_TIME_EXPRESSION",
            "tag": "Cache Configuration",
            "description": "Specifies the cron schedule for syncing the cache data between the DB and S3",
            "type": "string",
            "required": false,
            "default": "0 01 * * *",
            "format": "cron"
          },
          {
            "name": "HARBOR_CACHE_REGISTRY_URL",
            "tag": "Harbor Registry Cache",
            "description": "Harbor registry project that acts as a cache to the main Docker registry",
            "type": "string",
            "required": {
              "oneOf": [
                {
                  "USE_CACHE": "true"
                },
                {
                  "IS_PROXY": "true"
                }
              ]
            },
            "format": "uri",
            "notes": [
              "This variable is required if the cache service cached docker images."
            ]
          }
        ]
      },
      {
        "title": "S3-Compatible Storage",
        "id": "S3",
        "description": "Configuration for S3-compatible object storage services, (e.g. AWS S3, MinIO).",
        "variables": [
          {
            "name": "S3_ENDPOINT_INTERNAL",
            "description": "Set the URL for S3 of container name when using a mock S3 like MinIO",
            "required": true,
            "type": "string"
          },
          {
            "name": "S3_ENDPOINT_EXTERNAL",
            "description": "Set the external URL to get external access for downloading resources",
            "required": false,
            "type": "string",
            "notes": [
              "This should only be set if it is different from S3_ENDPOINT_INTERNAL.",
              "Now enabled only using AWS S3, the S3_ENDPOINT_INTERNAL must be an external URL if external access is required."
            ]
          },
          {
            "name": "AWS_REGION",
            "description": "AWS region for the S3 bucket",
            "required": {
              "if": {
                "S3-Compatible Storage": "AWS S3"
              }
            },
            "type": "string"
          },
          {
            "name": "ACCESS_KEY_ID",
            "description": "Access key ID for S3 authentication",
            "required": true,
            "type": "string"
          },
          {
            "name": "SECRET_ACCESS_KEY",
            "description": "Secret access key for S3 authentication",
            "required": true,
            "type": "string"
          },
          {
            "name": "BUCKET_NAME",
            "description": "Name of the S3 bucket",
            "required": true,
            "type": "string"
          },
          {
            "name": "UPLOAD_URL_EXPIRE",
            "description": "Expiration time in seconds for generated S3 upload URLs",
            "required": false,
            "type": "number",
            "default": "AWS S3 - 900 seconds, MinIO - 7 days"
          },
          {
            "name": "DOWNLOAD_URL_EXPIRE",
            "description": "Expiration time in seconds for generated S3 download URLs",
            "required": false,
            "type": "number",
            "default": "AWS S3 - 900 seconds, MinIO - 7 days"
          },
          {
            "name": "MINIO_USE_SSL",
            "description": "Flag to determine if MinIO server run with ssl",
            "required": {
              "if": {
                "S3-Compatible Storage": "MinIO",
                "S3_ENDPOINT_INTERNAL": "start with http<span style=\"font-weight:900; text-decoration:underline\">s</span>"
              }
            },
            "type": "boolean",
            "default": true
          }
        ]
      },
      {
        "title": "JWT Configuration",
        "id": "jwt",
        "description": "JWT Configuration, to generate jwt token",
        "variables": [
          {
            "name": "JWT_SECRET",
            "description": "A secret string for the jwt token",
            "required": true,
            "type": "string"
          },
          {
            "name": "JWT_EXPIRATION",
            "description": "<p>expressed in seconds or a string describing a time span <a href=\"https://github.com/zeit/ms.js\">zeit/ms</a>. <br> Eg: 60, '2 days', '10h', '7d'</p>",
            "required": true,
            "type": "string"
          }
        ]
      },
      {
        "title": "Get-map microservice",
        "id": "getMap",
        "description": "Environment variables for get-map microservice.",
        "variables": [
          {
            "name": "LIBOT_DISCOVERY_URL",
            "description": "The url of the libot discovery service",
            "type": "string",
            "format": "uri",
            "required": true,
            "tag": "libot"
          },
          {
            "name": "LIBOT_EXPORT_URL",
            "description": "The url of the libot export service",
            "type": "string",
            "format": "uri",
            "required": true,
            "tag": "libot"
          },
          {
            "name": "LIBOT_CALLBACK_URL",
            "description": "The url provided to libot to call back to the service",
            "type": "string",
            "format": "uri",
            "required": true,
            "tag": "libot"
          },
          {
            "name": "TOKEN_LIBOT",
            "description": "The token to authenticate with libot",
            "type": "string",
            "required": true,
            "tag": "libot"
          },
          {
            "name": "PROXY_DOWNLOAD_BASE_URL",
            "description": "When using proxy server for vpn connection, this prefix will change the original prefix",
            "type": "string",
            "format": "uri",
            "required": false
          },
          {
            "name": "MC_CSW_REF_DATE",
            "description": "The reference date for the filter products",
            "type": "string",
            "format": "date-time",
            "default": "2023-10-15T00:00:01Z",
            "required": false,
            "tag": "products filtering params"
          },
          {
            "name": "TARGET_RESOLUTION",
            "description": "The target resolution for filtering products",
            "type": "number",
            "default": 17,
            "required": false,
            "tag": "products filtering params"
          },
          {
            "name": "MC_MIN_RESOLUTION_DEG",
            "description": "The minimum resolution for exporting maps",
            "type": "number",
            "default": 4.29153E-05,
            "required": true,
            "tag": "products filtering params"
          },
          {
            "name": "MC_MAX_RESOLUTION_DEG",
            "description": "The maximum resolution for exporting maps",
            "type": "number",
            "default": 1.34110E-06,
            "required": true,
            "tag": "products filtering params"
          },
          {
            "name": "PRODUCTS_CREATION_METHOD",
            "description": "set the method to create products",
            "type": "enum",
            "enum": [
              "single",
              "polygonParts"
            ],
            "default": "single",
            "required": false,
            "tag": "WFS supporting"
          },
          {
            "name": "POLYGON_PARTS_WFS",
            "description": "The url of the polygon parts wfs service. Required if using the 'polygonParts' method in PRODUCTS_CREATION_METHOD.",
            "type": "string",
            "format": "uri",
            "required": {
              "if": {
                "PRODUCTS_CREATION_METHOD": "polygonParts"
              }
            },
            "tag": "WFS supporting"
          },
          {
            "name": "MANEUVER_AREA",
            "description": "The maneuver area for the polygon parts method, in the format of 'lat,lon,lat,lon,...'. Required if using the 'polygonParts' method in PRODUCTS_CREATION_METHOD.",
            "type": "string",
            "pattern": "^(-?\\d+(?:\\.\\d+)?),(-?\\d+(?:\\.\\d+)?)(,(-?\\d+(?:\\.\\d+)?),(-?\\d+(?:\\.\\d+)?))*$",
            "example": "32.1,34.8,32.2,34.9,32.3,35.0",
            "required": {
              "if": {
                "PRODUCTS_CREATION_METHOD": "polygonParts"
              }
            },
            "tag": "WFS supporting"
          },
          {
            "name": "SEQUENTIAL_PRODUCT_ID",
            "description": "The sequential product id for the polygon parts method, in format of 'productId-productType'. Required if using the 'polygonParts' method in PRODUCTS_CREATION_METHOD.",
            "type": "string",
            "pattern": "^[a-zA-Z0-9]+-[a-zA-Z0-9]+$",
            "example": "12345-ortho",
            "required": {
              "if": {
                "PRODUCTS_CREATION_METHOD": "polygonParts"
              }
            },
            "tag": "WFS supporting"
          },
          {
            "name": "UPDATE_GOB_TIME",
            "description": "The cron time to update the GOB, default is every 6 hours",
            "type": "string",
            "default": "0 0 */6 * * *",
            "pattern": "^([0-5]?\\d)\\s([0-5]?\\d)\\s([0-2]?\\d|\\*)\\s([1-9]|1[0-2]|\\*)\\s([0-6]|\\*)\\s([0-7]|\\*)$",
            "required": false,
            "tag": "service configs"
          },
          {
            "name": "PRODUCTS_STALE_AFTER",
            "description": "The time in minutes to consider a product stale, default is 3 minute",
            "type": "number",
            "default": 3,
            "required": false,
            "tag": "service configs"
          },
          {
            "name": "USE_PRODUCTS_CACHE",
            "description": "A flag if using cache for products, default is true",
            "type": "boolean",
            "default": true,
            "required": false,
            "tag": "service configs"
          },
          {
            "name": "PERIODIC_GET_MAP_STATUS",
            "description": "Seconds to set the periodic time to request status for map â€” default is 3 seconds",
            "type": "number",
            "default": 3,
            "required": false,
            "tag": "service configs"
          },
          {
            "name": "MAP_RETRY_EXPONENTIAL_TIMES",
            "description": "The exponential times for retrying the request in array, default is [0.3, 5, 15]",
            "type": "string",
            "default": "[0.3, 5, 15]",
            "pattern": "^\\[\\s*(\\d+(\\.\\d+)?)(\\s*,\\s*\\d+(\\.\\d+)?)*\\s*\\]$",
            "required": false,
            "tag": "service configs"
          },
          {
            "name": "MAP_RETRY_WAIT_TIME",
            "description": "The time to wait between retries, default is 0.3",
            "type": "number",
            "default": 0.3,
            "required": false,
            "tag": "service configs"
          },
          {
            "name": "MAP_RETRY_COUNT",
            "description": "The number of retries, default is 3",
            "type": "number",
            "default": 3,
            "required": false,
            "tag": "service configs"
          },
          {
            "name": "UPDATE_JOB_MAP_TAKE",
            "description": "The number of maps to take in each update job, default is 25",
            "type": "number",
            "default": 25,
            "required": false,
            "tag": "service configs"
          },
          {
            "name": "LIBOT_EMULATOR",
            "description": "set if use an emulator to emulate libot",
            "type": "boolean",
            "default": false,
            "required": false,
            "tag": "libot emulator"
          }
        ]
      },
      {
        "title": "Libot emulator microservice",
        "id": "libotEmu",
        "description": "Environment variables for libot emulator microservice.",
        "variables": [
          {
            "name": "LIBOT_SERVER_ADDRESS",
            "description": "The address of the libot server",
            "type": "string",
            "format": "uri",
            "required": true
          }
        ]
      },
      {
        "title": "Kafka Configuration",
        "id": "kafka",
        "description": "Additional environment variables for kafka service required by us.\n Exclude the general required var needed to be set for establishing a KAFKA server",
        "variables": [
          {
            "name": "KAFKA_MESSAGE_MAX_BYTES",
            "description": "The maximum size of a message that the Kafka broker will accept (in bytes).",
            "type": "number",
            "default": 10485760,
            "required": true
          },
          {
            "name": "KAFKA_REPLICA_FETCH_MAX_BYTES",
            "description": "The maximum bytes expected for each fetch response from a replica (in bytes).",
            "type": "number",
            "default": 10485760,
            "required": true
          },
          {
            "name": "KAFKA_FETCH_MESSAGE_MAX_BYTES",
            "description": "The maximum bytes expected for each fetch response from a consumer (in bytes).",
            "type": "number",
            "default": 10485760,
            "required": true
          }
        ]
      },
      {
        "title": "SMTP Configuration",
        "id": "smtp",
        "description": "Environment variables related to SMTP email sending.",
        "variables": [
          {
            "name": "SMTP_HOST",
            "description": "Hostname or IP address of the SMTP server.",
            "required": true,
            "type": "string"
          },
          {
            "name": "SMTP_PORT",
            "description": "Port number to connect to the SMTP server.",
            "required": true,
            "type": "number"
          },
          {
            "name": "SMTP_SECURE",
            "description": "Whether the SMTP connection uses TLS/SSL.",
            "required": true,
            "type": "boolean"
          },
          {
            "name": "SMTP_USER",
            "description": "Username for authenticating with the SMTP server.",
            "required": true,
            "type": "string"
          },
          {
            "name": "SMTP_PASSWORD",
            "description": "Password for authenticating with the SMTP server.",
            "required": true,
            "type": "string"
          },
          {
            "name": "SMTP_FROM",
            "description": "The email address used in the 'From' field of outgoing emails.",
            "required": true,
            "type": "string",
            "format": "email"
          },
          {
            "name": "SMTP_BUG_REPORT_SUBSCRIBERS",
            "description": "Comma-separated list of email addresses to receive bug reports. Example: 'a1@example.com,a2@example.com'",
            "required": false,
            "type": "string",
            "pattern": "^\\s*([\\w.-]+@[\\w.-]+)(\\s*,\\s*[\\w.-]+@[\\w.-]+)*\\s*$",
            "format": "email"
          }
        ]
      },
      {
        "title": "Elastic APM Configuration",
        "id": "apm",
        "description": "Environment variables related to Elastic APM monitoring agent.",
        "variables": [
          {
            "name": "ELASTIC_APM_SERVICE_NAME",
            "description": "Override service name from package.json.",
            "required": false,
            "type": "string"
          },
          {
            "name": "ELASTIC_APM_SECRET_TOKEN",
            "description": "Use if APM Server requires a token.",
            "required": false,
            "type": "string"
          },
          {
            "name": "ELASTIC_APM_API_KEY",
            "description": "Use if APM Server uses API keys for authentication.",
            "required": false,
            "type": "string"
          },
          {
            "name": "ELASTIC_APM_SERVER_URL",
            "description": "Custom APM Server URL.",
            "required": true,
            "type": "string",
            "default": "http://localhost:8200",
            "format": "url"
          },
          {
            "name": "ELASTIC_APM_ACTIVATE",
            "description": "Set 'true' value to enable APM agent.",
            "required": true,
            "default": false,
            "type": "boolean"
          },
          {
            "name": "ELASTIC_APM_DISABLE_INSTRUMENTATIONS",
            "description": "Comma-separated list of modules to be excluded from instrumentation.",
            "required": false,
            "type": "string"
          },
          {
            "name": "ELASTIC_APM_ENVIRONMENT",
            "description": "Override environment value.",
            "required": false,
            "type": "string"
          },
          {
            "name": "ELASTIC_APM_VERIFY_SERVER_CERT",
            "description": "Set to 'false' to disable SSL certificate verification for the APM server.",
            "required": false,
            "type": "boolean"
          },
          {
            "name": "ELASTIC_APM_LOG_LEVEL",
            "description": "Verbosity level for agent logging.",
            "required": false,
            "default": "info",
            "type": "enum",
            "enum": [
              "trace",
              "debug",
              "info",
              "warning",
              "error",
              "critical",
              "off"
            ]
          },
          {
            "name": "ELASTIC_APM_CAPTURE_BODY",
            "description": "Enable capturing the HTTP body of incoming HTTP requests.",
            "required": false,
            "type": "enum",
            "default": "off",
            "enum": [
              "off",
              "all",
              "errors",
              "transactions"
            ]
          },
          {
            "name": "ELASTIC_APM_CAPTURE_ERROR_LOG_STACK_TRACES",
            "description": "Capture APM error log stack traces.",
            "required": true,
            "type": "enum",
            "enum": [
              "never",
              "messages",
              "always"
            ]
          },
          {
            "name": "ELASTIC_APM_USE_PATH_AS_TRANSACTION_NAME",
            "description": "Use the URL path as the transaction name if no route is found.",
            "required": false,
            "default": false,
            "type": "boolean"
          },
          {
            "name": "ELASTIC_APM_ASYNC_HOOKS",
            "description": "Set this option to true to enable async hooks.",
            "required": true,
            "type": "boolean"
          }
        ]
      }
    ]
  }